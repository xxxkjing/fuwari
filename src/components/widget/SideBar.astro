---
import Profile from './Profile.astro'
import Tag from './Tags.astro'
import Categories from './Categories.astro'
import type { MarkdownHeading } from 'astro'
import TOC from './TOC.astro'

interface Props {
    class? : string
    headings? : MarkdownHeading[]
}

const className = Astro.props.class
const headings = Astro.props.headings

---
<div id="sidebar" class:list={[className, "w-full"]}>
    <div class="flex flex-col w-full gap-4 mb-4">
        <Profile></Profile>
    </div>
    <div class="flex flex-col w-full gap-4 mb-4">
       <div id="music-section" class="flex flex-row items-center bg-white border border-gray-300 rounded-lg p-4 shadow-md">
  <!-- 音乐封面 -->
  <img 
    src="/music/cover.jpg" 
    alt="当前播放音乐" 
    class="w-16 h-16 md:w-20 md:h-20 rounded object-cover border-gray-200"
  >

  <!-- 音乐信息与播放器 -->
  <div class="ml-4 flex flex-col flex-grow">
    <h3 class="text-lg font-bold text-gray-800">音乐时光</h3>
    <p class="text-sm text-gray-600 mb-2">分享近期喜爱的音乐 🎵</p>
    <audio controls class="w-full rounded bg-gray-100">
      <source src="/music/current-song.mp3" type="audio/mpeg">
      您的浏览器不支持音频播放功能。
    </audio>
  </div>
</div>

  </div>
</div>
    </div>
    <div id="sidebar-sticky" class="transition-all duration-700 flex flex-col w-full gap-4 top-4 sticky top-4">
        <Categories class="onload-animation" style="animation-delay: 150ms"></Categories>
        <Tag class="onload-animation" style="animation-delay: 200ms"></Tag>
    </div>
</div>
